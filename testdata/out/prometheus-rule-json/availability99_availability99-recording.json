{
    "groups": [
        {
            "name": "slogen:my-app-foo-availability:recording",
            "rules": [
                {
                    "record": "job:slogen_error:ratio_rate5m",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"foo\", code!~\"2..\"}[5m])) / sum by (job) (rate(http_requests_total{job=\"foo\"}[5m]))",
                    "labels": {
                        "slogen_id": "my-app-foo-availability",
                        "slogen_slo": "foo-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate1h",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"foo\", code!~\"2..\"}[1h])) / sum by (job) (rate(http_requests_total{job=\"foo\"}[1h]))",
                    "labels": {
                        "slogen_id": "my-app-foo-availability",
                        "slogen_slo": "foo-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate6h",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"foo\", code!~\"2..\"}[6h])) / sum by (job) (rate(http_requests_total{job=\"foo\"}[6h]))",
                    "labels": {
                        "slogen_id": "my-app-foo-availability",
                        "slogen_slo": "foo-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate3d",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"foo\", code!~\"2..\"}[3d])) / sum by (job) (rate(http_requests_total{job=\"foo\"}[3d]))",
                    "labels": {
                        "slogen_id": "my-app-foo-availability",
                        "slogen_slo": "foo-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate4w",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"foo\", code!~\"2..\"}[4w])) / sum by (job) (rate(http_requests_total{job=\"foo\"}[4w]))",
                    "labels": {
                        "slogen_id": "my-app-foo-availability",
                        "slogen_slo": "foo-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error_budget:ratio_rate4w",
                    "expr": "1 - (sum by (job) (rate(http_requests_total{job=\"foo\", code!~\"2..\"}[4w])) / sum by (job) (rate(http_requests_total{job=\"foo\"}[4w]))) / (1 - 0.99)",
                    "labels": {
                        "slogen_id": "my-app-foo-availability",
                        "slogen_slo": "foo-availability",
                        "slogen_spec": "my-app"
                    }
                }
            ]
        },
        {
            "name": "slogen:my-app-foo-availability:recording-meta",
            "rules": [
                {
                    "record": "slogen_slo",
                    "expr": "0.99",
                    "labels": {
                        "slogen_id": "my-app-foo-availability",
                        "slogen_slo": "foo-availability",
                        "slogen_spec": "my-app"
                    }
                }
            ]
        },
        {
            "name": "slogen:my-app-bar-availability:recording",
            "rules": [
                {
                    "record": "job:slogen_error:ratio_rate5m",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"bar\", code!~\"2..\"}[5m])) / sum by (job) (rate(http_requests_total{job=\"bar\"}[5m]))",
                    "labels": {
                        "slogen_id": "my-app-bar-availability",
                        "slogen_slo": "bar-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate1h",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"bar\", code!~\"2..\"}[1h])) / sum by (job) (rate(http_requests_total{job=\"bar\"}[1h]))",
                    "labels": {
                        "slogen_id": "my-app-bar-availability",
                        "slogen_slo": "bar-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate6h",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"bar\", code!~\"2..\"}[6h])) / sum by (job) (rate(http_requests_total{job=\"bar\"}[6h]))",
                    "labels": {
                        "slogen_id": "my-app-bar-availability",
                        "slogen_slo": "bar-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate3d",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"bar\", code!~\"2..\"}[3d])) / sum by (job) (rate(http_requests_total{job=\"bar\"}[3d]))",
                    "labels": {
                        "slogen_id": "my-app-bar-availability",
                        "slogen_slo": "bar-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error:ratio_rate4w",
                    "expr": "sum by (job) (rate(http_requests_total{job=\"bar\", code!~\"2..\"}[4w])) / sum by (job) (rate(http_requests_total{job=\"bar\"}[4w]))",
                    "labels": {
                        "slogen_id": "my-app-bar-availability",
                        "slogen_slo": "bar-availability",
                        "slogen_spec": "my-app"
                    }
                },
                {
                    "record": "job:slogen_error_budget:ratio_rate4w",
                    "expr": "1 - (sum by (job) (rate(http_requests_total{job=\"bar\", code!~\"2..\"}[4w])) / sum by (job) (rate(http_requests_total{job=\"bar\"}[4w]))) / (1 - 0.99)",
                    "labels": {
                        "slogen_id": "my-app-bar-availability",
                        "slogen_slo": "bar-availability",
                        "slogen_spec": "my-app"
                    }
                }
            ]
        },
        {
            "name": "slogen:my-app-bar-availability:recording-meta",
            "rules": [
                {
                    "record": "slogen_slo",
                    "expr": "0.99",
                    "labels": {
                        "slogen_id": "my-app-bar-availability",
                        "slogen_slo": "bar-availability",
                        "slogen_spec": "my-app"
                    }
                }
            ]
        }
    ]
}
